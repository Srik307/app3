import React, { use, useEffect, useState } from "react";
import { FaFileAlt, FaProjectDiagram, FaSignature } from "react-icons/fa";
import { FaAtom, FaFileSignature } from "react-icons/fa6";
import { useNavigate } from "react-router-dom";

const SideNav = () => {
  const [active, setActive] = useState(-1);
  const [isHovered, setIsHovered] = useState(false);
  const color = "#902BFF";

  const pages = ["/dashboard", "/authors", "/documents", "/patents", "/projects"];
  const navigate = useNavigate();

  const changePage = (index) => {
    let flag=0;
    setActive(index);
    if(window.location.pathname !== "/home") {
      navigate("/home");
      flag=1;
    }
    if(flag==1){
    setTimeout(() => {
    const sectionId = pages[index].replace("/", "");
    const element = document.getElementById(sectionId);
    if (element) {
      console.log('element',element);
      element.scrollIntoView({ behavior: "smooth" });
    }
  }
  , 100);
}
  else{
    const sectionId = pages[index].replace("/", "");
    const element = document.getElementById(sectionId);
    if (element) {
      console.log('element',element);
      element.scrollIntoView({ behavior: "smooth" });
    }
  }
  };


  const svgs=[
		//overall
		<svg fill="#000000" height="40" width="40" version="1.1"  viewBox="0 0 286.439 286.439"  enable-background="new 0 0 286.439 286.439">
	  <g fill={active==0?color:"#000000"}>
		<path d="m45.422,135.326c-3.313,0-6,2.687-6,6v22.064c0,3.313 2.687,6 6,6s6-2.687 6-6v-22.064c0-3.314-2.687-6-6-6z"/>
		<path d="m69.883,120.619c-3.313,0-6,2.687-6,6v36.771c0,3.313 2.687,6 6,6s6-2.687 6-6v-36.771c0-3.313-2.687-6-6-6z"/>
		<path d="m94.344,98.817c-3.313,0-6,2.687-6,6v58.573c0,3.313 2.687,6 6,6s6-2.687 6-6v-58.573c0-3.314-2.687-6-6-6z"/>
		<path d="m118.805,83.849c-3.313,0-6,2.687-6,6v73.542c0,3.313 2.687,6 6,6s6-2.687 6-6v-73.542c0-3.314-2.687-6-6-6z"/>
		<path d="m281.728,196.948l-43.009-43.009c4.473-10.953 4.097-23.43-1.11-34.131v-47.09c0-8.808-7.166-15.974-15.974-15.974h-205.661c-8.808-0.001-15.974,7.165-15.974,15.973v114.683c0,8.808 7.166,15.974 15.974,15.974h65.068v14.322h-17.278c-3.313,0-6,2.686-6,6s2.687,6 6,6h110.081c3.313,0 6-2.686 6-6s-2.687-6-6-6h-17.278v-14.322h65.068c5.674,0 10.653-2.982 13.487-7.453l23.816,23.816c3.142,3.142 7.268,4.712 11.395,4.712s8.253-1.571 11.395-4.712h0.001c6.281-6.283 6.281-16.507-0.001-22.789zm-8.486,14.304c-1.604,1.604-4.214,1.604-5.819,0l-40.719-40.719 5.819-5.819 40.719,40.719c1.605,1.604 1.605,4.214 0,5.819zm-51.607-19.878h-205.661c-2.191,0-3.974-1.783-3.974-3.974v-114.683c0-2.191 1.782-3.974 3.974-3.974h205.661c2.191,0 3.974,1.783 3.974,3.974v32.357c-16.362-12.656-40.032-11.492-55.035,3.51-16.276,16.278-16.276,42.763 0,59.04 7.886,7.885 18.369,12.228 29.521,12.228 5.526,0 10.888-1.07 15.852-3.106l9.663,9.662v0.993c-0.002,2.19-1.784,3.973-3.975,3.973zm-128.593,26.322v-14.322h51.524v14.322h-51.524zm128.087-58.558c-5.619,5.619-13.09,8.713-21.035,8.713-7.946,0-15.416-3.094-21.035-8.713-11.598-11.598-11.598-30.47 0-42.069 5.8-5.799 13.417-8.699 21.035-8.699 7.617,0 15.235,2.9 21.034,8.699 11.599,11.598 11.599,30.47 0.001,42.069z"/>
		<path d="m199.306,151.167c-7.204-0.435-12.711-6.648-12.276-13.852 0.199-3.308-2.32-6.151-5.628-6.351-3.309-0.197-6.151,2.32-6.351,5.628-0.833,13.809 9.724,25.72 23.532,26.553 0.123,0.007 0.245,0.011 0.367,0.011 3.148,0 5.791-2.454 5.983-5.639 0.2-3.307-2.32-6.15-5.627-6.35z"/>
	  </g>
	</svg>,
	//authors
	<svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill={active==1?color:"#000000"}  viewBox="0 0 16 16">
	  <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"/>
	</svg>,
<svg fill={active==2?color:"#000000"} height="38" width="38" viewBox="0 0 1024 1024"><path d="M263.508 346.359c0-11.782 9.551-21.333 21.333-21.333h303.012c11.78 0 21.333 9.551 21.333 21.333s-9.553 21.333-21.333 21.333H284.841c-11.782 0-21.333-9.551-21.333-21.333zm21.333 92.937c-11.782 0-21.333 9.553-21.333 21.333 0 11.785 9.551 21.333 21.333 21.333h303.012c11.78 0 21.333-9.549 21.333-21.333 0-11.78-9.553-21.333-21.333-21.333H284.841zm-21.333 135.599c0-11.78 9.551-21.333 21.333-21.333h303.012c11.78 0 21.333 9.553 21.333 21.333 0 11.785-9.553 21.333-21.333 21.333H284.841c-11.782 0-21.333-9.549-21.333-21.333zm21.333 92.535c-11.782 0-21.333 9.553-21.333 21.333 0 11.785 9.551 21.333 21.333 21.333h303.012c11.78 0 21.333-9.549 21.333-21.333 0-11.78-9.553-21.333-21.333-21.333H284.841z"/><path d="M325.731 43.151h15.654c1.387-.283 2.823-.432 4.294-.432s2.907.149 4.294.432H654.22c37.875 0 68.74 30.919 68.74 68.78v649.225c0 37.858-30.865 68.779-68.74 68.779H218.073c-37.873 0-68.741-30.921-68.741-68.779V212.754c0-.922.058-1.831.172-2.722.466-11.074 4.843-22.22 13.986-31.371L285.747 56.306c11.501-11.236 26.231-15.109 39.984-13.155zM193.673 208.819L315.626 86.765c.943-.899 1.808-1.238 2.577-1.366.895-.149 1.968-.049 3.028.39 1.055.437 1.833 1.1 2.312 1.78.366.52.73 1.278.803 2.512v70.051c0 .256.004.511.013.765v38.38c0 9.981-8.243 18.205-18.173 18.205H197.149c-1.328 0-2.141-.36-2.728-.777-.686-.486-1.363-1.285-1.806-2.354s-.529-2.115-.384-2.956c.124-.722.455-1.588 1.441-2.575zm173.34-123.001v3.525c.009.399.013.8.013 1.202v108.731c0 33.512-27.312 60.872-60.839 60.872L192 260.151v501.005c0 14.327 11.799 26.112 26.074 26.112h436.147c14.276 0 26.074-11.785 26.074-26.112V111.931c0-14.33-11.797-26.113-26.074-26.113H367.013z"/><path d="M777.485 128.521c-11.785 0-21.333 9.551-21.333 21.333s9.549 21.333 21.333 21.333h28.442c14.276 0 26.074 11.783 26.074 26.113v715.254c0 14.332-11.797 26.112-26.074 26.112H369.78c-14.275 0-26.074-11.785-26.074-26.112v-28.075c0-11.78-9.551-21.333-21.333-21.333s-21.333 9.553-21.333 21.333v28.075c0 37.862 30.868 68.779 68.741 68.779h436.147c37.875 0 68.74-30.916 68.74-68.779V197.3c0-37.861-30.865-68.78-68.74-68.78h-28.442z"/></svg>
,	
	<svg fill={active==3?color:"#000000"} height="38" width="38" viewBox="0 0 512.001 512.001">
<g>
	<g>
		<g>
			<path d="M426.324,121.704c-0.704-0.704-65.13-65.12-116.48-116.472C306.471,1.856,301.845,0,297.211,0H98.305     c-9.863,0-17.86,7.996-17.86,17.86v445.015c0,9.863,7.996,17.86,17.86,17.86h97.136v13.387c0,15.848,19.247,23.874,30.488,12.629     l26.016-26.016h8.111l26.016,26.016c11.164,11.162,30.488,3.37,30.488-12.629v-13.387h97.136c9.863,0,17.86-7.996,17.86-17.86     V134.333C431.556,129.792,429.721,125.101,426.324,121.704z M315.076,60.979c9.743,9.743,35.816,35.815,55.499,55.498h-55.499     V60.979z M280.84,451.004l-12.211-12.21c-6.974-6.975-18.283-6.976-25.257,0l-12.211,12.21V412.63     c15.715,7.089,33.951,7.095,49.68,0V451.004z M280.84,357.403c0,13.696-11.142,24.839-24.839,24.839     c-13.696,0-24.839-11.141-24.839-24.842c0.007-13.702,11.151-24.85,24.839-24.85c13.688,0,24.833,11.146,24.839,24.85V357.403z      M395.835,445.015h-79.275v-87.612v-0.012v-0.009c-0.019-33.387-27.185-60.549-60.559-60.549     c-33.366,0-60.541,27.154-60.559,60.559v0.012v87.612h-79.277V35.72h163.19v98.617c0,9.863,7.996,17.86,17.86,17.86h98.621     V445.015z"/>
			<path d="M172.414,152.196h56.799c9.863,0,17.86-7.996,17.86-17.86c0-9.863-7.996-17.86-17.86-17.86h-56.799     c-9.863,0-17.86,7.996-17.86,17.86C154.554,144.2,162.551,152.196,172.414,152.196z"/>
			<path d="M154.554,197.259c0,9.863,7.996,17.86,17.86,17.86h167.172c9.863,0,17.86-7.996,17.86-17.86     c0-9.863-7.995-17.86-17.86-17.86H172.414C162.551,179.399,154.554,187.396,154.554,197.259z"/>
			<path d="M339.587,242.321H172.414c-9.863,0-17.86,7.996-17.86,17.86c0,9.863,7.996,17.86,17.86,17.86h167.172     c9.863,0,17.86-7.996,17.86-17.86C357.446,250.317,349.451,242.321,339.587,242.321z"/>
		</g>
	</g>
</g>
</svg>
,<svg height="38" width="38" viewBox="0 0 24 24" fill="none">
<path d="M7.52879 16.4712C2.59014 11.5325 0.588351 5.52715 3.05768 3.05782C5.04852 1.06697 9.33779 1.98237 13.5134 5M16.471 7.52894C21.4097 12.4676 23.4115 18.473 20.9421 20.9423C18.9535 22.931 14.6713 22.0198 10.5 19.01M20.9423 3.05768C23.4117 5.52701 21.4099 11.5324 16.4712 16.4711C11.5326 21.4097 5.5272 23.4115 3.05787 20.9422C1.06704 18.9513 1.98242 14.6621 5 10.4865C5.72528 9.48285 6.57199 8.4858 7.52899 7.5288C12.4676 2.59014 18.473 0.588345 20.9423 3.05768Z" stroke={active==4?color:"#000000"} stroke-width="1.5" stroke-linecap="round"/>
<path d="M14.5 12C14.5 13.3807 13.3807 14.5 12 14.5C10.6193 14.5 9.5 13.3807 9.5 12C9.5 10.6193 10.6193 9.5 12 9.5C13.3807 9.5 14.5 10.6193 14.5 12Z" fill={active==4?color:"#000000"} stroke-width="1.5"/>
</svg>	]
	

  return (
    <div
      className={`h-screen shadow-purple-glow text-white overflow-hidden z-10 transition-all duration-300 ${
        isHovered ? "w-40" : "w-16"
      }`}
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
    >
      <div className="mt-4">
        <img src="/logo.png" alt="Responsive Image" className="w-3/4 rounded-lg ml-2" />
      </div>
      <nav>
        <ul className="space-y-2 mt-4">
          {["Dashboard", "Authors", "Documents", "Patents", "Projects"].map((item, index) => (
            <li
              key={index}
              className={`flex items-center justify-around p-2 hover:bg-purple-light rounded cursor-pointer ${active === index ? "bg-purple-100" : ""}`}
              onClick={() => changePage(index)}
            >
              {svgs[index]}
              {isHovered && <span className="ml-2 text-sm text-black">{item}</span>}
            </li>
          ))}
        </ul>
      </nav>
    </div>
  );


};

export default SideNav;
